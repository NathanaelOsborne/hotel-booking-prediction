# -*- coding: utf-8 -*-
"""hotel_booking_model.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1iRw3AwxyVl5dXvUCWqtu0Z1upOOpIiJA
"""

import pickle
import pandas as pd

class HotelBookingModel:
    def __init__(self, model_path='best_model.pkl', transformer_path='preprocessor.pkl'):
        with open(model_path, 'rb') as mf:
            self.model = pickle.load(mf)
        with open(transformer_path, 'rb') as tf:
            self.transformer = pickle.load(tf)

    def predict(self, input_data: dict):
        df = pd.DataFrame([input_data])
        df = df[self.transformer.feature_names_in_]
        X_transformed = self.transformer.transform(df)
        pred = self.model.predict(X_transformed)[0]
        return pred